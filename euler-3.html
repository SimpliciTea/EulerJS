<!DOCTYPE html>
<html>
<head>
	<title>Euler 3</title>
	<script>
		var isPrime = function (n) {
			var limit = Math.sqrt(n);

			//checks for whole, valid, odd number
			if (n%1 || n%2 === 0 || !isFinite(n) || n<2) return false;
			
			//rules out multiples of 2, 3
			if (n%2 === 0) return (n===3);
			if (n%3 === 0) return (n===3);

			//checks for divisibility, skipping multiples of 3;
			for (i = 5; i < limit; i += 6) {
				if (n%i === 0) return false;
				if (n%(i+2) === 0) return false;
			}
			
			return true;
		}

		var Euler3 = function() {
			//var num = 600851475143;
			var num = 123456789012345678901234567890;
			var factors = [];

			m = Math.sqrt(num);

			// Finds all factors
			for (i = 1; i < m; i++) {
				if (num % i === 0) {
					factors.push(i);
				}
			}

			//Checks factors for primality and then lists them
			for (i in factors) {
				document.write(i + " :: " + factors[i]);
				if (isPrime(factors[i])) document.write(" :: Prime! <br />");
				else document.write("<br />");
			}
		}
		
		window.onload(Euler3());
	</script>
</head>

<body>
</body>

</html>